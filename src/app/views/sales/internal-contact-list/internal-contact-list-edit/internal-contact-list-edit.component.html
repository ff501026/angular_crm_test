<div class="container">
    <div class="row">
        <div class="col-md-12">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="/main/dashboard">首頁</a></li>
              <li class="breadcrumb-item active">業務</li>
              <li class="breadcrumb-item active" aria-current="page">治具需求單作業</li>
              <li class="breadcrumb-item active" aria-current="page">治具需求單作業-編輯</li>
            </ol>
          </nav>
        </div>
    </div>
    <!--標題-->
    <div class="row">
        <div class="col-md-12 text-center">
            <div class="left">
                <h1>
                    <mat-icon>description</mat-icon>
                    <span class="text-left">
                        治具需求單作業-編輯
                    </span>
                </h1>
            </div>
        </div>
    </div>
    <!--查詢區域-->
    <div class="row">
        <div class="col-md-5 text-center">
            <mat-card class="card search-group">
                <mat-card-content>
                    <div class="edit-form-group pt-2 pb-0">
                        <mat-list class="pb-0">
                            <mat-list-item >
                                <h4 class="px-0">編號:</h4>
                                <h4 class="text-context">E001</h4>
                            </mat-list-item>
                        </mat-list>
                        <mat-form-field appearance="outline">
                            <mat-label>分類</mat-label>
                            <mat-select disableRipple name="project-principal">
                                <mat-option value="A101">A101</mat-option>
                                <mat-option value="A102">A102</mat-option>
                                <mat-option value="A103">A103</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field appearance="outline">
                            <mat-label>類別</mat-label>
                            <mat-select disableRipple name="project-principal">
                                <mat-option value="A101">A101</mat-option>
                                <mat-option value="A102">A102</mat-option>
                                <mat-option value="A103">A103</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field appearance="outline">
                            <mat-label>待覆日期</mat-label>
                            <mat-date-range-input [rangePicker]="picker">
                              <input matStartDate placeholder="Start date">
                              <input matEndDate placeholder="End date">
                            </mat-date-range-input>
                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-date-range-picker #picker></mat-date-range-picker>
                        </mat-form-field>
                        <mat-form-field appearance="outline">
                            <mat-label>客戶需求日</mat-label>
                            <input matInput [matDatepicker]="picker_done">
                            <mat-datepicker-toggle matSuffix [for]="picker_done"></mat-datepicker-toggle>
                            <mat-datepicker #picker_done></mat-datepicker>
                        </mat-form-field>
                        <mat-form-field appearance="outline" style="width: 410px;">
                            <mat-label>標題</mat-label>
                            <input matInput type="text" name="client-name">
                        </mat-form-field>
                        <mat-form-field appearance="outline">
                            <mat-label>客戶名稱</mat-label>
                            <input matInput type="text" name="client-name">
                        </mat-form-field>
                        <mat-form-field appearance="outline">
                            <mat-label>連絡電話</mat-label>
                            <input matInput type="text" name="client-name">
                        </mat-form-field>
                        <mat-form-field appearance="outline" style="width: 410px;">
                            <mat-label>電子郵件</mat-label>
                            <input matInput type="text" name="client-name">
                        </mat-form-field>
                        <mat-form-field appearance="outline">
                            <mat-label>機型</mat-label>
                            <input matInput type="text" name="client-name">
                        </mat-form-field>
                        <mat-form-field appearance="outline">
                            <mat-label>專案代號</mat-label>
                            <input matInput type="text" name="client-name">
                        </mat-form-field>
                        <table>
                            <tr>
                                <td>
                                    <mat-form-field appearance="outline" class="ml-10">
                                        <mat-label>治具數量</mat-label>
                                        <input matInput type="text" name="client-name">
                                    </mat-form-field>
                                </td>
                                <td>
                                    <mat-checkbox class="ml-10">一般</mat-checkbox>
                                    <mat-checkbox class="ml-10">急件</mat-checkbox>
                                </td>
                            </tr>
                        </table>
                        <mat-form-field appearance="outline" style="width: 410px;">
                            <mat-label>摘要說明</mat-label>
                            <textarea matInput type="text" name=""></textarea>
                        </mat-form-field>
                        
                    </div>
                </mat-card-content>
            </mat-card>
        </div>
        <div class="col-md-7">
            <div class="row">
                <div class="col">
                    <mat-card class="card search-group" style="height: 570px;">
                        <mat-card-content>
                            <mat-tab-group dynamicHeight >
                                <mat-tab label="需求明細" >
                                    <div class="container" >
                                        <div class="row">
                                            <div class="col edit-form-group pt-0">
                                                <div class="row pt-3 mb-0">
                                                    <div class="col-md-12 text-center">
                                                        <h3>需求明細</h3>
                                                    </div>
                                                </div>
                                                <mat-form-field appearance="outline">
                                                    <mat-label>客戶通知日</mat-label>
                                                    <input matInput [matDatepicker]="picker_cus">
                                                    <mat-datepicker-toggle matSuffix [for]="picker_cus"></mat-datepicker-toggle>
                                                    <mat-datepicker #picker_cus></mat-datepicker>
                                                </mat-form-field>
                                                <mat-form-field appearance="outline">
                                                    <mat-label>客圖/資訊</mat-label>
                                                    <input matInput type="text" name="client-name">
                                                </mat-form-field>
                                                <mat-form-field appearance="outline">
                                                    <mat-label>預計出貨日</mat-label>
                                                    <input matInput [matDatepicker]="picker_cus1">
                                                    <mat-datepicker-toggle matSuffix [for]="picker_cus1"></mat-datepicker-toggle>
                                                    <mat-datepicker #picker_cus1></mat-datepicker>
                                                </mat-form-field>
                                                <mat-form-field appearance="outline">
                                                    <mat-label>PO/DATE</mat-label>
                                                    <input matInput type="text" name="client-name">
                                                </mat-form-field>
                                                <mat-form-field appearance="outline">
                                                    <mat-label>內部訂單</mat-label>
                                                    <input matInput type="text" name="client-name">
                                                </mat-form-field>
                                                <mat-form-field appearance="outline">
                                                    <mat-label>客戶單號</mat-label>
                                                    <input matInput type="text" name="client-name">
                                                </mat-form-field>
                                                <mat-form-field appearance="outline">
                                                    <mat-label>贈送單號</mat-label>
                                                    <input matInput type="text" name="client-name">
                                                </mat-form-field>
                                                <mat-form-field appearance="outline">
                                                    <mat-label>項目</mat-label>
                                                    <input matInput type="text" name="client-name">
                                                </mat-form-field>
                                                <mat-form-field appearance="outline">
                                                    <mat-label>規格</mat-label>
                                                    <input matInput type="text" name="client-name">
                                                </mat-form-field>
                                                <div class="row pt-3">
                                                    <div class="col-md-12 text-center">
                                                        <h3>新增產品需求</h3>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <mat-form-field appearance="outline">
                                                            <mat-label>產品需求</mat-label>
                                                            <input matInput type="text" name="client-name" [(ngModel)]="require">
                                                        </mat-form-field>
                                                        <mat-form-field appearance="outline" style="width: 100px;">
                                                            <mat-label>數量</mat-label>
                                                            <input matInput type="text" name="client-name" [(ngModel)]="require_number">
                                                        </mat-form-field>
                                                        <mat-form-field appearance="outline" style="width: 100px;">
                                                            <mat-label>單位</mat-label>
                                                            <input matInput type="text" name="client-name" [(ngModel)]="require_unit">
                                                        </mat-form-field>
                                                        <mat-checkbox [(ngModel)]="require_urgent">急件</mat-checkbox>
                                                        <mat-form-field appearance="outline" style="width: 420px;">
                                                            <mat-label>備註</mat-label>
                                                            <textarea matInput type="text" name="" [(ngModel)]="require_note"></textarea>
                                                        </mat-form-field>
                                                        <button mat-button class="btn" matTooltip="加入列表">
                                                            <mat-icon>add</mat-icon>
                                                        </button>
                                                        <button mat-button class="btn-normal" matTooltip="清除" (click)="clear()">
                                                            <mat-icon>refresh</mat-icon>
                                                        </button>
                                                    </div>
                                                </div>
                                                
                                            </div>
                                        </div>
                                    </div>
                                </mat-tab>
                                <mat-tab label="審核流程" >
                                    <div class="container">
                                        <div class="row pt-3">
                                            <h3>簽核單位</h3>
                                            <div class="col-md-5">
                                                <mat-list>
                                                    <mat-list-item>
                                                        <h4>發文者:</h4>
                                                        <h4 class="text-context">Admin</h4>
                                                    </mat-list-item>
                                                    <mat-list-item>
                                                        <h4>單位主管:</h4>
                                                        <h4 class="text-context">Admin</h4>
                                                    </mat-list-item>
                                                    <mat-list-item>
                                                        <h4>處長:</h4>
                                                        <h4 class="text-context">Admin</h4>
                                                    </mat-list-item>
                                                    <mat-list-item>
                                                        <h4>營運業務部主管:</h4>
                                                        <h4 class="text-context">Admin</h4>
                                                    </mat-list-item>
                                                    <mat-list-item>
                                                        <h4>專案經理(PM):</h4>
                                                        <h4 class="text-context"></h4>
                                                    </mat-list-item>
                                                </mat-list>
                                            </div>
                                            <div class="col-md-7">
                                                <mat-list >
                                                    <mat-list-item>
                                                        <h4>發文單位:</h4>
                                                        <h4 class="text-context">機械研發部 2020/06/16 09:17:22</h4>
                                                    </mat-list-item>
                                                    <mat-list-item>
                                                        <h4>簽核日期:</h4>
                                                        <h4 class="text-context">機械研發部 2020/06/16 09:17:22</h4>
                                                    </mat-list-item>
                                                    <mat-list-item>
                                                        <h4>簽核日期:</h4>
                                                        <h4 class="text-context">機械研發部 2020/06/16 09:17:22</h4>
                                                    </mat-list-item>
                                                    <mat-list-item>
                                                        <h4>簽核日期:</h4>
                                                        <h4 class="text-context">機械研發部 2020/06/16 09:17:22</h4>
                                                    </mat-list-item>
                                                </mat-list>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <h3>會簽單位</h3>
                                                <section class="example-section">
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <mat-list>
                                                                <mat-list-item>
                                                                    <mat-checkbox>機設:</mat-checkbox>
                                                                </mat-list-item>
                                                                <mat-list-item>
                                                                    <mat-checkbox>電控:</mat-checkbox>
                                                                </mat-list-item>
                                                                <mat-list-item>
                                                                    <mat-checkbox>製造:</mat-checkbox>
                                                                </mat-list-item>
                                                            </mat-list>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <mat-list>
                                                                <mat-list-item>
                                                                    <mat-checkbox>軟體(Vision):</mat-checkbox>
                                                                </mat-list-item>
                                                                <mat-list-item>
                                                                    <mat-checkbox>軟體(Motion):</mat-checkbox>
                                                                </mat-list-item>
                                                                <mat-list-item>
                                                                    <mat-checkbox>其他:</mat-checkbox>
                                                                </mat-list-item>
                                                            </mat-list>
                                                        </div>
                                                    </div>
                                                </section>
                                            </div>
                                        </div>
                                    </div>
                                </mat-tab>
                                <mat-tab label="會簽紀錄">
                                    
                                </mat-tab>
                                <mat-tab label="任務資訊">
                                    <div class="container">
                                        <div class="row text-center pt-3">
                                            <div class="col-md-12 text-center">
                                                <h3>任務管理</h3>
                                                <button mat-button class="btn-none" matTooltip="新建任務" (click)="doPost()">
                                                    <!-- <mat-icon>add</mat-icon> -->
                                                    新建任務
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </mat-tab>
                                <mat-tab label="會議記錄">
                                    
                                </mat-tab>
                                <mat-tab label="表單紀錄">
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="table-container">
                                                    <div class="table">
                                                        <table mat-table [dataSource]="datasSource" class="mat-elevation-z8">
        
                                                            <!--- Note that these columns can be defined in any order.
                                                                  The actual rendered columns are set as a property on the row definition" -->
                                                          
                                                            <!-- Position Column -->
                                                            <ng-container matColumnDef="record_date">
                                                              <th mat-header-cell *matHeaderCellDef> 時間 </th>
                                                              <td mat-cell *matCellDef="let element"> {{element.record_date}} </td>
                                                            </ng-container>
                                                          
                                                            <!-- Name Column -->
                                                            <ng-container matColumnDef="department">
                                                              <th mat-header-cell *matHeaderCellDef> 部門 </th>
                                                              <td mat-cell *matCellDef="let element"> {{element.department}} </td>
                                                            </ng-container>
                                                          
                                                            <!-- Weight Column -->
                                                            <ng-container matColumnDef="record_content">
                                                              <th mat-header-cell *matHeaderCellDef> 內容 </th>
                                                              <td mat-cell *matCellDef="let element"> {{element.record_content}} </td>
                                                            </ng-container>
                                                          
                                                            <tr mat-header-row *matHeaderRowDef="displayedColumn"></tr>
                                                            <tr mat-row *matRowDef="let row; columns: displayedColumn;"></tr>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </mat-tab>
                            </mat-tab-group>
                        </mat-card-content>
                    </mat-card>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <mat-card class="card search-group">
                        <button mat-button class="btn-normal-none" *ngIf="!btnStatus" (click)="cancelItem()">離開</button>
                        <button mat-button class="btn-normal" *ngIf="!btnStatus">儲存</button>
                        <button mat-button class="btn-normal" *ngIf="!btnStatus">附件</button>
                        <button mat-button class="btn-normal" *ngIf="!btnStatus">列印</button>
                        <button mat-button class="btn-normal" *ngIf="!btnStatus">複製</button>
                        <button mat-button class="btn" *ngIf="!btnStatus">送審</button>
                        <button mat-button class="btn-normal" (click)="btnStatusClick()" *ngIf="!btnStatus">異動處理</button>
                        <button mat-button class="btn" *ngIf="btnStatus" (click)="btnStatusClick()">儲存</button>
                        <button mat-button class="btn-normal" *ngIf="btnStatus" (click)="btnStatusClick()">取消</button>
                    </mat-card>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <mat-card class="card table">
                <div class="table-container" >
                    <h5 class="">產品需求列表</h5>
                    <hr>
                    <table mat-table [dataSource]="datasSource_1" class="">
                        <!-- j_id -->
                        <ng-container matColumnDef="action_delete">
                            <th mat-header-cell *matHeaderCellDef>刪除</th>
                            <td mat-cell *matCellDef="let element">
                                <button mat-mini-fab color="basic" class="table-btn-none">
                                    <mat-icon>delete</mat-icon>
                                </button>
                            </td>
                        </ng-container>
                        <!-- summary -->
                        <ng-container matColumnDef="product_info">
                            <th mat-header-cell *matHeaderCellDef>產品需求</th>
                            <td mat-cell *matCellDef="let element"> {{element.product_info}} </td>
                        </ng-container>
                        <!-- c_name -->
                        <ng-container matColumnDef="f_id">
                            <th mat-header-cell *matHeaderCellDef>總成品號</th>
                            <td mat-cell *matCellDef="let element"> {{element.f_id}} </td>
                        </ng-container>
                        <!-- liaison_phone -->
                        <ng-container matColumnDef="num">
                            <th mat-header-cell *matHeaderCellDef>數量</th>
                            <td mat-cell *matCellDef="let element"> {{element.num}} </td>
                        </ng-container>
                        <!-- creater -->
                        <ng-container matColumnDef="unit">
                            <th mat-header-cell *matHeaderCellDef>單位</th>
                            <td mat-cell *matCellDef="let element"> {{element.unit}} </td>
                        </ng-container>
                        <!-- date_for_respond -->
                        <ng-container matColumnDef="create_time">
                            <th mat-header-cell *matHeaderCellDef>建檔日</th>
                            <td mat-cell *matCellDef="let element"> {{element.create_time}} </td>
                        </ng-container>
                        <!-- date_for_demand -->
                        <ng-container matColumnDef="date_for_deliver">
                            <th mat-header-cell *matHeaderCellDef>預計出貨日</th>
                            <td mat-cell *matCellDef="let element"> {{element.date_for_deliver}} </td>
                        </ng-container>
                        <tr mat-header-row *matHeaderRowDef="displayedColumn_1"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumn_1;"></tr>
                      </table>
                      <mat-paginator #paginator [length]="" [pageIndex]="0" [pageSize]="5" [pageSizeOptions]="[5, 10, 15]" [showFirstLastButtons]="true">
                      </mat-paginator>
                </div>
            </mat-card>
        </div>
    </div>
</div>
